(this["webpackJsonpbar-chart-race"]=this["webpackJsonpbar-chart-race"]||[]).push([[0],{104:function(e,t,a){e.exports=a.p+"static/media/region.f0729b97.csv"},123:function(e,t,a){e.exports=a(207)},127:function(e,t,a){},195:function(e,t){},197:function(e,t){},207:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(99),c=a.n(o),l=(a(127),a(257)),i=a(241),m=a(244),s=a(245),u=a(242),d=a(36),g=a(253);var f=e=>{const{domainMax:t,xMax:a}=e,n=a>500?5:Math.floor(a/100),o=Object(i.a)({domain:[0,t],range:[0,a]});return r.a.createElement(g.a,{top:0,left:0,scale:o,tickLabelProps:()=>({textAnchor:"middle",dy:"-0.25em",fontSize:12}),numTicks:n})};const h=Object(d.a)(f);var p=Object(n.forwardRef)((e,t)=>{let{domainMax:a,xMax:o}=e;const c=Object(n.useRef)(a).current,l=Object(d.b)({from:{domainMax:c},to:{domainMax:a},ref:t});return r.a.createElement(h,Object.assign({xMax:o},l))}),y=a(243),v=a(259);a(76);var b=e=>{let{color:t,x:a,y:n,width:o,height:c,name:l,value:i}=e;const m="".concat(l," ").concat(function(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}(i)),s=("Bangladesh \ud83c\udde7\ud83c\udde9"===l?"#483D8B":"Brazil \ud83c\udde7\ud83c\uddf7"===l&&"#DAA520")||"China \ud83c\udde8\ud83c\uddf3"===l&&"#483D8B"||"France \ud83c\uddeb\ud83c\uddf7"===l&&"#9370DB"||"Germany \ud83c\udde9\ud83c\uddea"===l&&"#9370DB"||"India \ud83c\uddee\ud83c\uddf3"===l&&"#483D8B"||"Indonesia \ud83c\uddee\ud83c\udde9"===l&&"#483D8B"||"Italy \ud83c\uddee\ud83c\uddf9"===l&&"#9370DB"||"Japan \ud83c\uddef\ud83c\uddf5"===l&&"#483D8B"||"Russia \ud83c\uddf7\ud83c\uddfa"===l&&"#9370DB"||"United Kingdom \ud83c\uddec\ud83c\udde7"===l&&"#9370DB"||"United States \ud83c\uddfa\ud83c\uddf8"===l&&"#9370DB";return r.a.createElement(r.a.Fragment,null,r.a.createElement(y.a,{x:a,y:n,width:o,height:c,fill:s,style:{opacity:.8}}),r.a.createElement(v.a,{x:a+10,y:n+c/2},m))};const w=Object(d.a)(b);var E=Object(n.forwardRef)((e,t)=>{let{frameData:a,xScale:n,yScale:o,colorScale:c}=e;return Object(d.c)(a.map((e,t)=>{let{name:a,value:r}=e;return{y:o(t),width:n(r),value:r,name:a}}),e=>e.name,{initial:e=>e,from:{y:o.range()[1]+50,width:0,value:0},leave:{y:o.range()[1]+50,width:0,value:0},enter:e=>e,update:e=>e,unique:!0,ref:t}).map(e=>{let{item:t,props:a}=e;const{y:l,value:i,width:m}=a,{name:s}=t;return r.a.createElement(w,{x:n(0),y:l,width:m,height:o.bandwidth(),color:c(s),value:i.interpolate(e=>e.toFixed()),name:s,key:s})})}),x=a(254),O=a(252);const j=[{id:1,name:"Asia",color:"#483D8B",active:!0},{id:2,name:"Europe",color:"#9370DB",active:!0},{id:3,name:"Africa",color:"#DB7093",active:!0},{id:4,name:"Oceania",color:"#FFA500",active:!0},{id:5,name:"Americas",color:"#DAA520",active:!0}];var B=a(255);const S=r.a.forwardRef((e,t)=>{let{numOfBars:a,width:o,height:c,margin:d,keyframes:g,onStart:f,onStop:h}=e;const[{frameIdx:y,animationKey:v,playing:b},w]=Object(n.useState)({frameIdx:0,animationKey:0,playing:!1}),[S,D]=Object(n.useState)([]),[k,M]=Object(n.useState)(j),A=Object(n.useRef)();Object(n.useEffect)(()=>{if(!A.current){const{date:e,data:t}=F;D(t.slice(0,a)),A.current=setTimeout(()=>{w(e=>{let{frameIdx:t,playing:a,...n}=e;const r=t===g.length-1;return{...n,frameIdx:a?r?t:t+1:t,playing:!(!a||r)}}),A.current=null},250)}});const I=Object(n.useRef)(),R=Object(n.useRef)();Object(n.useImperativeHandle)(t,()=>({replay:()=>{clearTimeout(A.current),A.current=null,w(e=>{let{animationKey:t,...a}=e;return{...a,frameIdx:0,animationKey:t+1,playing:!0}})},start:()=>{w(e=>({...e,playing:!0}))},stop:()=>{w(e=>({...e,playing:!1})),I.current.stop(),R.current.stop()},playing:b}));const T=Object(n.useRef)(b);Object(n.useEffect)(()=>{T.current!==b&&(b?f():h()),T.current=b},[b]),Object(n.useLayoutEffect)(()=>{I.current&&b&&(I.current.start(),R.current.start())});const F=g[y],{date:P,data:z}=F,C=z.reduce((e,t)=>e+(t.value||0),0),K=z.map(e=>{let{value:t}=e;return t}),L=o-d.left-d.right,J=c-d.top-d.bottom,W=Math.max(...K),H=Object(i.a)({domain:[0,W],range:[0,L]}),U=Object(n.useMemo)(()=>Object(m.a)({domain:Array(a).fill(0).map((e,t)=>t),range:[0,J]}),[a,J]),Y=Object(n.useMemo)(()=>0===g.length?[]:g[0].data.map(e=>e.name),[g]),q=Object(n.useMemo)(()=>Object(s.a)(l.a).domain(Y).range(l.a),[Y]),G=P.getFullYear();return console.log("dataRegion",S),console.log("regionContinent",k),r.a.createElement(r.a.Fragment,null,r.a.createElement(O.a,{direction:"row",spacing:2,style:{marginBottom:"1rem"}},r.a.createElement("p",{style:{marginTop:"0.5rem"}},"Region:"),b?null===k||void 0===k?void 0:k.map(e=>r.a.createElement(B.a,{label:e.name,color:e.color,control:r.a.createElement(x.a,{value:e.name,checked:e.active,onChange:t=>((e,t)=>{console.log("event",e),console.log("name",t),console.log("checked",e.target.checked);const a=k.map(a=>(a.name===t&&(a.active=e.target.checked),a));M(a)})(t,e.name)}),style:{color:e.color},sx:{color:"".concat(e.color),"&.Mui-checked":{color:"".concat(e.color),border:"".concat(e.color)}}})):r.a.createElement("p",{style:{color:"red",marginTop:"0.5rem"}},"Please push PLAY before filter")),r.a.createElement("svg",{width:o,height:c},r.a.createElement(u.a,{top:d.top,left:d.left,key:v},r.a.createElement(E,{frameData:S.filter(e=>!k.find(t=>{let{name:a,active:n}=t;return e.category===a&&!n})),xScale:H,yScale:U,colorScale:q,ref:I}),r.a.createElement("text",{textAnchor:"end",style:{fontSize:"4.25em"},x:L,y:500},G),r.a.createElement("text",{textAnchor:"end",style:{fontSize:"2.25em"},x:L,y:J},"Total: ",C.toFixed().toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")),r.a.createElement("line",{x1:0,y1:0,x2:0,y2:J,stroke:"black"}),r.a.createElement(p,{domainMax:W,xMax:L,ref:R}))))});S.defaultProps={width:600,height:450,margin:{top:0,right:0,bottom:0,left:100}};var D=S,k=a(102),M=a.n(k),A=a(103),I=a.n(A);const R=(e,t)=>{const a=(e=>{const t=new Map;e.forEach(e=>{const{date:a,name:n}=e;if(t.get(a)){const r={...t.get(a),[n]:e};t.set(a,r)}else t.set(a,{[n]:e})});return e=>{let{date:a,name:n}=e;try{return t.get(a)[n]}catch(r){return null}}})(e),n=[...new Set(e.map(e=>{let{name:t}=e;return t}))],r=[...new Set(e.map(e=>{let{date:t}=e;return t}))].sort().map(e=>({date:e,data:n.map(t=>{const n=a({date:e,name:t});return{...n,value:n?n.value:0}})}));return r.reduce((e,n,o)=>{const c=n,l=o!==r.length-1?r[o+1]:null;if(l){const r=new Date(c.date).getTime(),o=new Date(l.date).getTime()-r;for(let c=0;c<t;c++){const i=new Date(r+o*c/t),m=n.data.map(e=>{let{name:n,value:r,...o}=e;const i=r,m=a({date:l.date,name:n});return{name:n,value:i+((m?m.value:0)-i)*c/t,...o}});e.push({date:i,data:m})}}else e.push({...n,date:new Date(n.date)});return e},[]).map(e=>{let{date:t,data:a}=e;return{date:t,data:a.sort((e,t)=>t.value-e.value)}})};var T=function(e,t){const[a,n]=r.a.useState([]);return r.a.useEffect(()=>{M.a.get(e).then(e=>{const{data:a}=e,r=I()(a).slice(1).map(e=>{let[t,a,n,r]=e;return{date:t,name:a,category:n,value:Number(r)}}),o=R(r,t);n(o)})},[e,t]),a};var F=a(256),P=a(105),z=a.n(P),C=a(106),K=a.n(C),L=a(107),J=a.n(L),W=a(104),H=a.n(W);const U={top:30,right:10,bottom:30,left:10};var Y=function(){const{width:e}=function(){const e=()=>({width:window.innerWidth,height:window.innerHeight}),[t,a]=r.a.useState(e);return r.a.useEffect(()=>{const t=()=>{a(e)};return window.addEventListener("resize",t),()=>window.removeEventListener("resize",t)},[]),t}(),t=e-64,a=T(H.a,10),o=r.a.useRef(),c=!!o.current&&o.current.playing,[l,i]=Object(n.useState)();return r.a.createElement("div",{style:{margin:"0 2em"}},r.a.createElement("h1",null,"Population growth per country 1950 to 2021"),r.a.createElement("div",{style:{paddingTop:"1em",marginBottom:"1rem"}},r.a.createElement(O.a,{direction:"row",spacing:2,style:{marginBottom:"1rem"}},r.a.createElement(F.a,{variant:"outlined",onClick:()=>{o.current.replay()},endIcon:r.a.createElement(z.a,null)},"Try again"),r.a.createElement(F.a,{variant:"contained",onClick:c?()=>{o.current.stop()}:()=>{o.current.start()},endIcon:c?r.a.createElement(K.a,null):r.a.createElement(J.a,null),color:c?"error":"success"},c?"Pause":"Play")),a.length>0&&r.a.createElement(D,{keyframes:a,numOfBars:12,width:t,height:600,margin:U,onStart:()=>i(!0),onStop:()=>i(!1),ref:o})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(Y,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(e=>{e.unregister()})}},[[123,1,2]]]);
//# sourceMappingURL=main.0b0dca23.chunk.js.map